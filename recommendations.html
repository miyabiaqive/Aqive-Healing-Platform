<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="styles.css">
</head>
<body class="bg-gray-50">
  <div class="h-screen flex flex-col safe-area-top">
    <!-- Header -->
    <div id="headerSection" class="bg-gradient-to-br from-purple-500 to-pink-500 px-6 pt-6 pb-12 relative overflow-hidden">
      <div class="absolute top-0 right-0 w-40 h-40 bg-white opacity-10 rounded-full -mr-12 -mt-12 blob"></div>
      <div class="relative z-10">
        <button onclick="navigate('awareness-report.html')" class="w-10 h-10 flex items-center justify-center mb-4">
          <i class="fas fa-arrow-left text-white text-xl"></i>
        </button>
        <h1 class="text-2xl font-bold text-white mb-2">ç‚ºä½ æ¨è–¦</h1>
        <p class="text-purple-100 text-sm">åŸºæ–¼ä½ çš„è¦ºå¯Ÿçµæœï¼Œé€™äº›å…§å®¹å¯èƒ½å°ä½ æœ‰å¹«åŠ©</p>
      </div>
    </div>

    <!-- Content -->
    <div class="flex-1 overflow-y-auto hide-scrollbar -mt-8 pb-32 px-6" id="contentSection"></div>
  </div>

  <script>
    // èƒ½é‡æ¨¡å¼å®šç¾©èˆ‡æ¨è–¦é‚è¼¯
    const energyPatterns = {
      mental_overload: {
        name: 'é ­è…¦éè¼‰å‹',
        emoji: 'ğŸ§ ',
        description: 'ä½ çš„é ­è…¦é•·æœŸè™•æ–¼é«˜é€Ÿé‹è½‰ç‹€æ…‹ï¼Œæ€ç·’ä¸æ–·ï¼Œå¾ˆé›£çœŸæ­£æ”¾é¬†ã€‚é€™å¯èƒ½æ˜¯é•·æœŸå£“æŠ‘æƒ…ç·’æˆ–éåº¦ç†æ€§æ€è€ƒçš„çµæœã€‚',
        insight: 'éåº¦ç†æ€§å¸¸å¸¸æ˜¯æƒ…ç·’éº»æœ¨çš„è¡¨ç¾ã€‚ç•¶æˆ‘å€‘ç¿’æ…£ç”¨æ€è€ƒä¾†æ§åˆ¶ä¸€åˆ‡ï¼Œèº«é«”çš„è¨Šè™Ÿå°±è¢«å¿½ç•¥äº†ã€‚',
        primary: {
          type: 'practice',
          title: 'æ’“å¢ƒèº«é«”è¦ºå¯Ÿ',
          subtitle: '6 åˆ†é˜å›åˆ°èº«é«”',
          emoji: 'ğŸŒ¬ï¸',
          color: 'from-teal-400 to-blue-500',
          description: 'é€éæ°£æ©Ÿçš„æ’“å ´å…±æŒ¯ï¼Œè®“éåº¦æ´»èºçš„é ­è…¦å®‰éœä¸‹ä¾†ï¼Œé‡æ–°é€£çµèº«é«”æ„ŸçŸ¥',
          reason: 'é ­è…¦éè¼‰æ™‚ï¼Œæœ€éœ€è¦çš„ä¸æ˜¯æ›´å¤šæ€è€ƒï¼Œè€Œæ˜¯å›åˆ°èº«é«”ã€‚æ’“å¢ƒèƒ½å¹«åŠ©ä½ é€éèº«é«”è¦ºå¯Ÿï¼Œé‡‹æ”¾ç´¯ç©çš„ç·Šç¹ƒã€‚',
          link: 'breath.html'
        },
        reading: {
          title: 'éåº¦ç†æ€§æ˜¯æƒ…ç·’éº»æœ¨çš„è¡¨ç¾',
          time: '3 åˆ†é˜é–±è®€',
          reason: 'é€™ç¯‡æ–‡ç« æœƒå¹«åŠ©ä½ ç†è§£ï¼šç‚ºä»€éº¼è¶Šè°æ˜çš„äººï¼Œè¶Šå®¹æ˜“èˆ‡è‡ªå·±çš„æ„Ÿå—å¤±è¯ã€‚'
        },
        course: {
          title: 'èº«å¿ƒæ”¾é¬†æ·±åº¦èª²ç¨‹',
          teacher: 'æéœè€å¸«',
          duration: '4 é€±è¨ˆç•«',
          students: 328,
          rating: 4.9,
          reason: 'ç³»çµ±æ€§åœ°å­¸ç¿’å¦‚ä½•å¾é ­è…¦å›åˆ°èº«é«”ï¼Œå»ºç«‹çœŸæ­£çš„æ”¾é¬†èƒ½åŠ›ã€‚'
        }
      },
      nervous_arousal: {
        name: 'ç¥ç¶“äº¢å¥®å‹',
        emoji: 'âš¡',
        description: 'ä½ çš„ç¥ç¶“ç³»çµ±è™•æ–¼é•·æœŸè­¦æˆ’ç‹€æ…‹ï¼Œå®¹æ˜“ç„¦æ…®ã€å¤±çœ ï¼Œé›£ä»¥çœŸæ­£å¹³éœä¸‹ä¾†ã€‚èº«é«”è¨˜ä½äº†å£“åŠ›ï¼Œå³ä½¿ç†æ€§ä¸ŠçŸ¥é“è©²æ”¾é¬†äº†ã€‚',
        insight: 'ç„¦æ…®ä¸æ˜¯ä½ çš„å•é¡Œï¼Œæ˜¯ç¥ç¶“ç³»çµ±éœ€è¦è¢«å®‰æ’«ã€‚å®ƒä¸€ç›´åœ¨ä¿è­·ä½ ï¼Œç¾åœ¨éœ€è¦å‘Šè¨´å®ƒï¼šä½ æ˜¯å®‰å…¨çš„ã€‚',
        primary: {
          type: 'practice',
          title: 'å®‰æ’«ç¥ç¶“ç³»çµ±å‘¼å¸æ³•',
          subtitle: '5 åˆ†é˜æ‰¾å›å¹³éœ',
          emoji: 'ğŸŒŠ',
          color: 'from-blue-400 to-purple-500',
          description: 'ç‰¹åˆ¥è¨­è¨ˆçš„å‘¼å¸ç¯€å¥ï¼Œå¹«åŠ©éåº¦æ´»èºçš„ç¥ç¶“ç³»çµ±é‡æ–°æ ¡æº–ï¼Œæ‰¾å›å…§åœ¨çš„å¹³éœ',
          reason: 'ç•¶ç¥ç¶“ç³»çµ±é•·æœŸäº¢å¥®ï¼Œæœ€æœ‰æ•ˆçš„æ–¹å¼æ˜¯é€éå‘¼å¸èª¿ç¯€ã€‚é€™å€‹ç·´ç¿’èƒ½ç›´æ¥ä½œç”¨æ–¼è¿·èµ°ç¥ç¶“ï¼Œå•Ÿå‹•æ”¾é¬†åæ‡‰ã€‚',
          link: 'breath.html'
        },
        reading: {
          title: 'ä½ çš„ç„¦æ…®ï¼Œå…¶å¯¦æ˜¯èº«é«”åœ¨èªªè©±',
          time: '4 åˆ†é˜é–±è®€',
          reason: 'äº†è§£ç„¦æ…®èƒŒå¾Œçš„ç”Ÿç†æ©Ÿåˆ¶ï¼Œå¹«åŠ©ä½ èˆ‡ç„¦æ…®å’Œå¹³å…±è™•ã€‚'
        },
        course: {
          title: 'æ·±åº¦ç¡çœ ä¿®å¾©è¨ˆç•«',
          teacher: 'é™³å¿ƒæ€¡ç™‚ç™’å¸«',
          duration: '21 å¤©',
          students: 567,
          rating: 4.8,
          reason: 'ç³»çµ±æ€§æ”¹å–„ç¡çœ å“è³ªï¼Œè®“ç¥ç¶“ç³»çµ±å¾—åˆ°çœŸæ­£çš„ä¼‘æ¯ã€‚'
        }
      },
      energy_depleted: {
        name: 'èƒ½é‡è€—ç«­å‹',
        emoji: 'ğŸ”‹',
        description: 'é•·æœŸçš„ä»˜å‡ºèˆ‡æ¶ˆè€—ï¼Œè®“ä½ çš„èƒ½é‡å„²å‚™è¦‹åº•ã€‚ä½ æ„Ÿåˆ°ç–²å€¦ã€æ²’å‹•åŠ›ï¼Œå°ç”Ÿæ´»å¤±å»ç†±æƒ…ã€‚é€™ä¸æ˜¯æ‡¶æƒ°ï¼Œæ˜¯èº«å¿ƒåœ¨å‘¼æ•‘ã€‚',
        insight: 'ç©ºè™›å’Œç–²å€¦ï¼Œæ˜¯éˆé­‚åœ¨æé†’ä½ ï¼šè©²å›ä¾†ç…§é¡§è‡ªå·±äº†ã€‚ä½ å·²ç¶“å¾ˆä¹…æ²’æœ‰ç‚ºè‡ªå·±åšäº›ä»€éº¼äº†ã€‚',
        primary: {
          type: 'practice',
          title: 'èƒ½é‡è£œå……å†¥æƒ³',
          subtitle: '10 åˆ†é˜é‡æ–°å……é›»',
          emoji: 'âœ¨',
          color: 'from-yellow-400 to-orange-400',
          description: 'é€éæ’“æ°£æºå¯¶çš„èƒ½é‡å…±æŒ¯ï¼Œé…åˆå¼•å°å†¥æƒ³ï¼Œå¹«åŠ©ä½ é‡æ–°é€£çµå…§åœ¨çš„ç”Ÿå‘½åŠ›',
          reason: 'ç•¶èƒ½é‡è€—ç«­æ™‚ï¼Œä¸æ˜¯è¦ä½ åšæ›´å¤šï¼Œè€Œæ˜¯è¦å­¸æœƒæ¥æ”¶ã€‚é€™å€‹ç·´ç¿’æœƒå¹«åŠ©ä½ æ‰“é–‹æ¥æ”¶çš„ç®¡é“ã€‚',
          link: 'player.html'
        },
        reading: {
          title: 'å…è¨±è‡ªå·±ä¼‘æ¯ï¼Œä¸æ˜¯è»Ÿå¼±',
          time: '3 åˆ†é˜é–±è®€',
          reason: 'é‡æ–°å®šç¾©ã€Œä¼‘æ¯ã€çš„æ„ç¾©ï¼Œå­¸æœƒä¸å¸¶ç½ªæƒ¡æ„Ÿåœ°ç…§é¡§è‡ªå·±ã€‚'
        },
        course: {
          title: 'è‡ªæˆ‘æ»‹é¤Š 7 æ—¥è¨ˆç•«',
          teacher: 'ç‹ç¾ç²è€å¸«',
          duration: '7 å¤©',
          students: 892,
          rating: 4.9,
          reason: 'æ¯å¤©ä¸€å€‹ç°¡å–®çš„è‡ªæˆ‘ç…§é¡§å„€å¼ï¼Œé‡å»ºä½ èˆ‡è‡ªå·±çš„é€£çµã€‚'
        }
      },
      external_entanglement: {
        name: 'å¤–éƒ¨ç³¾çµå‹',
        emoji: 'ğŸŒ€',
        description: 'ä½ å¸¸å¸¸æ„Ÿè¦ºè¢«ä»–äººçš„æœŸå¾…èˆ‡éœ€æ±‚ç¶ä½ï¼Œåœ¨é—œä¿‚ä¸­å¤±å»è‡ªå·±ã€‚æƒ³è¦å¥½å¥½ç…§é¡§è‡ªå·±ï¼Œå»ç¸½æ˜¯é¡§æ…®å¤ªå¤šã€‚',
        insight: 'ä½ ä¸éœ€è¦ç‚ºæ‰€æœ‰äººè² è²¬ã€‚å»ºç«‹å¥åº·çš„ç•Œé™ï¼Œä¸æ˜¯è‡ªç§ï¼Œæ˜¯è‡ªæ„›ã€‚',
        primary: {
          type: 'practice',
          title: 'ç•Œé™è¦ºå¯Ÿç·´ç¿’',
          subtitle: '8 åˆ†é˜å›åˆ°ä¸­å¿ƒ',
          emoji: 'ğŸ›¡ï¸',
          color: 'from-green-400 to-teal-400',
          description: 'å­¸ç¿’æ„ŸçŸ¥è‡ªå·±çš„èƒ½é‡é‚Šç•Œï¼Œç·´ç¿’æº«æŸ”è€Œå …å®šåœ°å®ˆè­·è‡ªå·±çš„ç©ºé–“',
          reason: 'ç•¶ä½ å¸¸å¸¸æ„Ÿè¦ºè¢«ä»–äººæ¶ˆè€—ï¼Œæœ€é‡è¦çš„æ˜¯é‡æ–°å»ºç«‹ã€Œæˆ‘ã€çš„æ„ŸçŸ¥ã€‚é€™å€‹ç·´ç¿’æœƒå¹«åŠ©ä½ æ‰¾å›è‡ªå·±çš„ä¸­å¿ƒã€‚',
          link: 'breath.html'
        },
        reading: {
          title: 'èªªä¸ï¼Œæ˜¯ä¸€ç¨®è‡ªæˆ‘ç…§é¡§',
          time: '5 åˆ†é˜é–±è®€',
          reason: 'äº†è§£ç‚ºä»€éº¼å»ºç«‹ç•Œé™å°ä½ å’Œä»–äººéƒ½å¥½ã€‚'
        },
        course: {
          title: 'é—œä¿‚ä¸­çš„è‡ªæˆ‘è¦ºå¯Ÿ',
          teacher: 'é™³å¿ƒæ€¡ç™‚ç™’å¸«',
          duration: '6 é€±',
          students: 445,
          rating: 4.7,
          reason: 'å­¸ç¿’åœ¨é—œä¿‚ä¸­ä¿æŒè‡ªå·±ï¼Œä¸å†éåº¦ä»˜å‡ºæˆ–çŠ§ç‰²ã€‚'
        }
      },
      inner_unfocused: {
        name: 'å…§åœ¨å¤±ç„¦å‹',
        emoji: 'ğŸ§­',
        description: 'ä½ æ„Ÿåˆ°è¿·æƒ˜ï¼Œä¸ç¢ºå®šè‡ªå·±çš„æ–¹å‘ã€‚å¤–åœ¨çš„ç›®æ¨™å¾ˆå¤šï¼Œä½†å…§åœ¨å»ç©ºç©ºçš„ã€‚ä½ æƒ³é‡æ–°é–‹å§‹ï¼Œå»ä¸çŸ¥é“å¾ä½•ä¸‹æ‰‹ã€‚',
        insight: 'è¿·æƒ˜ä¸æ˜¯å¤±æ•—ï¼Œæ˜¯éˆé­‚åœ¨é‚€è«‹ä½ åœä¸‹ä¾†ï¼Œé‡æ–°è†è½å…§åœ¨çš„è²éŸ³ã€‚ç­”æ¡ˆä¸€ç›´éƒ½åœ¨ä½ å¿ƒè£¡ã€‚',
        primary: {
          type: 'practice',
          title: 'å…§åœ¨æŒ‡å¼•å†¥æƒ³',
          subtitle: '12 åˆ†é˜é€£çµç›´è¦º',
          emoji: 'ğŸŒŸ',
          color: 'from-purple-400 to-pink-400',
          description: 'é€éå¼•å°å¼å†¥æƒ³ï¼Œé€£çµä½ çš„å…§åœ¨æ™ºæ…§ï¼Œè®“ç­”æ¡ˆè‡ªç„¶æµ®ç¾',
          reason: 'ç•¶ä½ ä¸çŸ¥é“å¾€å“ªè£¡èµ°æ™‚ï¼Œæœ€éœ€è¦çš„ä¸æ˜¯å¤–åœ¨çš„å»ºè­°ï¼Œè€Œæ˜¯é‡æ–°é€£çµä½ çš„å…§åœ¨ç¾…ç›¤ã€‚',
          link: 'player.html'
        },
        reading: {
          title: 'è¿·æƒ˜æ˜¯æ‰¾åˆ°è‡ªå·±çš„å¿…ç¶“ä¹‹è·¯',
          time: '4 åˆ†é˜é–±è®€',
          reason: 'é‡æ–°æ¡†æ¶è¿·æƒ˜çš„æ„ç¾©ï¼Œçœ‹è¦‹å®ƒçš„ç¦®ç‰©ã€‚'
        },
        course: {
          title: 'ç”Ÿå‘½è—åœ–è¦ºå¯Ÿå·¥ä½œåŠ',
          teacher: 'æéœè€å¸«',
          duration: '8 é€±',
          students: 234,
          rating: 4.8,
          reason: 'ç³»çµ±æ€§åœ°é‡æ¸…ä½ çš„åƒ¹å€¼è§€ã€å¤©è³¦èˆ‡ä½¿å‘½ï¼Œæ‰¾åˆ°å°ˆå±¬æ–¼ä½ çš„é“è·¯ã€‚'
        }
      },
      balanced: {
        name: 'ç›¸å°å¹³è¡¡',
        emoji: 'â˜®ï¸',
        description: 'ä½ ç›®å‰çš„ç‹€æ…‹ç›¸å°å¹³è¡¡ï¼Œæœ‰ä¸€å®šçš„è‡ªæˆ‘è¦ºå¯Ÿèƒ½åŠ›ã€‚ç¹¼çºŒä¿æŒè¦å¾‹çš„è‡ªæˆ‘ç…§é¡§ï¼Œæœƒè¶Šä¾†è¶Šå¥½ã€‚',
        insight: 'å¹³è¡¡ä¸æ˜¯çµ‚é»ï¼Œæ˜¯ä¸€å€‹æŒçºŒçš„éç¨‹ã€‚ç¹¼çºŒæ·±åŒ–ä½ çš„è¦ºå¯Ÿï¼Œæœƒç™¼ç¾æ›´å¤šå¯èƒ½æ€§ã€‚',
        primary: {
          type: 'practice',
          title: 'æ·±åº¦è¦ºå¯Ÿå†¥æƒ³',
          subtitle: '15 åˆ†é˜é€²éšç·´ç¿’',
          emoji: 'ğŸ§˜',
          color: 'from-blue-400 to-green-400',
          description: 'é©åˆå·²æœ‰åŸºç¤çš„ä½ ï¼Œæ·±å…¥æ¢ç´¢æ›´ç´°å¾®çš„èº«å¿ƒç‹€æ…‹',
          reason: 'ä½ å·²ç¶“å»ºç«‹äº†å¾ˆå¥½çš„åŸºç¤ï¼Œç¾åœ¨å¯ä»¥æ›´æ·±å…¥åœ°æ¢ç´¢å…§åœ¨ä¸–ç•Œã€‚',
          link: 'player.html'
        },
        reading: {
          title: 'å¾è¦ºå¯Ÿåˆ°è½‰åŒ–ï¼šä¸‹ä¸€éšæ®µçš„æ—…ç¨‹',
          time: '6 åˆ†é˜é–±è®€',
          reason: 'äº†è§£å¦‚ä½•å°‡è¦ºå¯Ÿè½‰åŒ–ç‚ºå¯¦éš›çš„ç”Ÿå‘½æ”¹è®Šã€‚'
        },
        course: {
          title: 'é€²éšå¿ƒæµä¿®ç…‰',
          teacher: 'æéœè€å¸«',
          duration: '12 é€±',
          students: 156,
          rating: 4.9,
          reason: 'æ·±åŒ–ä½ çš„ä¿®è¡Œï¼Œæ¢ç´¢æ„è­˜çš„æ›´æ·±å±¤æ¬¡ã€‚'
        }
      }
    };

    function loadRecommendations() {
      // å¾ LocalStorage è®€å–èƒ½é‡æ¨¡å¼
      const pattern = localStorage.getItem('aqive_energy_pattern') || 'balanced';
      const config = energyPatterns[pattern];

      const content = document.getElementById('contentSection');
      
      content.innerHTML = `
        <!-- AI Insight Card -->
        <div class="bg-gradient-to-br from-blue-500 to-purple-500 rounded-3xl p-6 shadow-xl mb-6">
          <div class="flex items-center gap-3 mb-4">
            <div class="w-12 h-12 bg-white rounded-full flex items-center justify-center">
              <span class="text-2xl">${config.emoji}</span>
            </div>
            <div>
              <h3 class="text-white font-bold">AI è¦ºå¯Ÿåˆ†æ</h3>
              <p class="text-blue-100 text-xs">ä½ çš„èƒ½é‡å‹æ…‹ï¼š${config.name}</p>
            </div>
          </div>
          <div class="bg-white bg-opacity-20 rounded-2xl p-4 backdrop-blur-sm mb-3">
            <p class="text-white text-sm leading-relaxed">
              ${config.description}
            </p>
          </div>
          <div class="bg-white bg-opacity-10 rounded-xl p-3 backdrop-blur-sm">
            <p class="text-blue-100 text-xs leading-relaxed">
              ğŸ’¡ ${config.insight}
            </p>
          </div>
        </div>

        <!-- Primary Recommendation -->
        <div class="mb-6">
          <h3 class="text-lg font-bold text-gray-800 mb-3">ğŸ¯ æœ€æ¨è–¦çµ¦ä½ </h3>
          <button onclick="navigate('${config.primary.link}')" class="w-full bg-gradient-to-br ${config.primary.color} rounded-2xl p-6 text-left shadow-lg transition-smooth hover:shadow-xl active:scale-95 mb-3">
            <div class="flex items-center gap-4 mb-3">
              <div class="w-16 h-16 bg-white rounded-2xl flex items-center justify-center flex-shrink-0 shadow-lg">
                <span class="text-3xl">${config.primary.emoji}</span>
              </div>
              <div class="flex-1">
                <div class="inline-flex items-center gap-2 px-3 py-1 bg-white bg-opacity-30 rounded-full backdrop-blur-sm mb-2">
                  <i class="fas fa-star text-yellow-300 text-xs"></i>
                  <span class="text-white text-xs font-medium">ç‰¹åˆ¥ç‚ºä½ æ¨è–¦</span>
                </div>
                <h4 class="text-white font-bold text-lg mb-1">${config.primary.title}</h4>
                <p class="text-white text-opacity-80 text-sm">${config.primary.subtitle}</p>
              </div>
              <i class="fas fa-arrow-right text-white text-2xl"></i>
            </div>
            <p class="text-white text-opacity-90 text-sm mb-3">${config.primary.description}</p>
          </button>

          <div class="bg-blue-50 border-2 border-blue-200 rounded-2xl p-4">
            <div class="flex items-start gap-3">
              <i class="fas fa-lightbulb text-blue-500 text-lg mt-1"></i>
              <div>
                <h4 class="font-bold text-blue-800 text-sm mb-1">ç‚ºä»€éº¼æ¨è–¦çµ¦ä½ ï¼Ÿ</h4>
                <p class="text-blue-700 text-xs leading-relaxed">
                  ${config.primary.reason}
                </p>
              </div>
            </div>
          </div>
        </div>

        <!-- Reading Recommendation -->
        <div class="mb-6">
          <h3 class="text-lg font-bold text-gray-800 mb-3">ğŸ“š å»¶ä¼¸é–±è®€</h3>
          <div class="bg-white rounded-2xl p-5 shadow-lg mb-3">
            <div class="flex gap-4">
              <div class="w-20 h-20 bg-gradient-to-br from-purple-400 to-pink-400 rounded-xl flex items-center justify-center flex-shrink-0">
                <span class="text-3xl">ğŸ“–</span>
              </div>
              <div class="flex-1">
                <span class="px-2 py-1 bg-purple-100 text-purple-600 rounded text-xs font-medium">${config.reading.time}</span>
                <h4 class="font-bold text-gray-800 text-sm mt-2 mb-1">${config.reading.title}</h4>
                <button class="text-purple-600 text-xs font-medium mt-2">
                  é–‹å§‹é–±è®€ <i class="fas fa-arrow-right ml-1"></i>
                </button>
              </div>
            </div>
          </div>

          <div class="bg-purple-50 border-2 border-purple-200 rounded-2xl p-4">
            <div class="flex items-start gap-3">
              <i class="fas fa-book-open text-purple-500 text-lg mt-1"></i>
              <div>
                <h4 class="font-bold text-purple-800 text-sm mb-1">ç‚ºä»€éº¼æ¨è–¦é€™ç¯‡ï¼Ÿ</h4>
                <p class="text-purple-700 text-xs leading-relaxed">
                  ${config.reading.reason}
                </p>
              </div>
            </div>
          </div>
        </div>

        <!-- Course Recommendation -->
        <div class="mb-6">
          <h3 class="text-lg font-bold text-gray-800 mb-3">ğŸ“ æ·±åº¦å­¸ç¿’</h3>
          <div onclick="navigate('course-detail.html')" class="bg-white rounded-2xl overflow-hidden shadow-lg transition-smooth hover:shadow-xl active:scale-95 mb-3">
            <div class="h-32 bg-gradient-to-br from-green-400 to-teal-400 flex items-center justify-center">
              <span class="text-6xl">ğŸ’š</span>
            </div>
            <div class="p-5">
              <div class="flex items-center gap-2 mb-3">
                <span class="px-2 py-1 bg-green-100 text-green-600 rounded text-xs font-medium">é€²éšèª²ç¨‹</span>
                <span class="px-2 py-1 bg-orange-100 text-orange-600 rounded text-xs font-medium">${config.course.duration}</span>
              </div>
              <h4 class="font-bold text-gray-800 text-lg mb-2">${config.course.title}</h4>
              <p class="text-gray-600 text-sm mb-3">ç”± ${config.course.teacher} å¸¶é ˜</p>
              <div class="flex items-center justify-between">
                <div class="flex items-center gap-3 text-xs text-gray-400">
                  <span><i class="fas fa-users mr-1"></i>${config.course.students} äºº</span>
                </div>
                <div class="flex items-center gap-1">
                  <i class="fas fa-star text-yellow-400 text-sm"></i>
                  <span class="text-sm font-bold text-gray-700">${config.course.rating}</span>
                </div>
              </div>
            </div>
          </div>

          <div class="bg-green-50 border-2 border-green-200 rounded-2xl p-4">
            <div class="flex items-start gap-3">
              <i class="fas fa-graduation-cap text-green-500 text-lg mt-1"></i>
              <div>
                <h4 class="font-bold text-green-800 text-sm mb-1">ç‚ºä»€éº¼æ¨è–¦é€™å ‚èª²ï¼Ÿ</h4>
                <p class="text-green-700 text-xs leading-relaxed">
                  ${config.course.reason}
                </p>
              </div>
            </div>
          </div>
        </div>

        <!-- AI Companion -->
        <div class="mb-6">
          <h3 class="text-lg font-bold text-gray-800 mb-3">ğŸ’¬ éš¨æ™‚é™ªä¼´</h3>
          <button onclick="navigate('ai-chat.html')" class="w-full bg-gradient-to-br from-purple-400 to-pink-400 rounded-2xl p-6 text-left shadow-lg transition-smooth hover:shadow-xl active:scale-95">
            <div class="flex items-center gap-4">
              <div class="w-16 h-16 bg-white rounded-2xl flex items-center justify-center flex-shrink-0 shadow-lg">
                <span class="text-3xl">âœ¨</span>
              </div>
              <div class="flex-1">
                <h4 class="text-white font-bold text-lg mb-1">å’Œ AI èŠèŠ</h4>
                <p class="text-purple-100 text-sm">éš¨æ™‚å‚¾è¨´ä½ çš„æ„Ÿå—ï¼Œæˆ‘æœƒé™ªä¼´ä½ </p>
              </div>
              <i class="fas fa-arrow-right text-white text-2xl"></i>
            </div>
          </button>
        </div>

        <!-- Bottom Actions -->
        <div class="bg-white rounded-2xl p-6 shadow-lg mb-6">
          <h3 class="font-bold text-gray-800 mb-3">ğŸ¯ æ¥ä¸‹ä¾†...</h3>
          <div class="space-y-3">
            <button onclick="navigate('home.html')" class="w-full py-3 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-xl font-bold shadow-md transition-smooth hover:scale-105 active:scale-95">
              é–‹å§‹æˆ‘çš„ç™‚ç™’ä¹‹æ—…
            </button>
            <button onclick="navigate('awareness-report.html')" class="w-full py-3 bg-gray-100 text-gray-700 rounded-xl font-medium transition-smooth hover:bg-gray-200 active:scale-95">
              å†çœ‹ä¸€æ¬¡è¦ºå¯Ÿå ±å‘Š
            </button>
          </div>
        </div>
      `;

      // å„²å­˜å·²æŸ¥çœ‹æ¨è–¦
      localStorage.setItem('aqive_first_recommendation_seen', 'true');
      
      // å„²å­˜æ¨è–¦æ•¸æ“šï¼ˆä¾›å¾Œç«¯åˆ†æï¼‰
      saveRecommendationData(pattern, config);
    }

    function saveRecommendationData(pattern, config) {
      const data = {
        user_id: 'demo_user',
        session_id: Date.now(),
        energy_pattern: pattern,
        pattern_name: config.name,
        timestamp: new Date().toISOString(),
        recommendations: {
          primary: config.primary.title,
          reading: config.reading.title,
          course: config.course.title
        }
      };
      
      // å„²å­˜åˆ° LocalStorageï¼ˆå¯¦éš›æ‡‰ç™¼é€åˆ°å¾Œç«¯ï¼‰
      localStorage.setItem('aqive_last_recommendation', JSON.stringify(data));
      console.log('Recommendation data saved:', data);
    }

    function navigate(page) {
      if (window.parent !== window) {
        window.parent.postMessage({ type: 'navigate', page: page }, '*');
      } else {
        window.location.href = page;
      }
    }

    // åˆå§‹åŒ–è¼‰å…¥
    loadRecommendations();
  </script>
</body>
</html>
